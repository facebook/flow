"use strict";(globalThis.webpackChunknew_website=globalThis.webpackChunknew_website||[]).push([[60],{70060(e,o,n){n.r(o),n.d(o,{assets:()=>i,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"usage","title":"Usage","description":"Once you have installed Flow, you will want to get a feel of how to use Flow at the most basic level. For most new Flow projects, you will follow this general pattern:","source":"@site/docs/usage.md","sourceDirName":".","slug":"/usage","permalink":"/en/docs/usage","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/flow/edit/main/website/docs/usage.md","tags":[],"version":"current","frontMatter":{"title":"Usage","slug":"/usage"},"sidebar":"docsSidebar","previous":{"title":"Installation","permalink":"/en/docs/install"},"next":{"title":"FAQ","permalink":"/en/docs/faq"}}');var r=n(74848),l=n(28453);const s={title:"Usage",slug:"/usage"},c=void 0,i={},a=[{value:"Initialize Your Project",id:"toc-initialize-your-project",level:3},{value:"Run the Flow Background Process",id:"toc-run-the-flow-background-process",level:3},{value:"Prepare Your Code for Flow",id:"toc-prepare-your-code-for-flow",level:3},{value:"Write Flow Code",id:"toc-write-flow-code",level:3},{value:"Check Your Code",id:"toc-check-your-code",level:3}];function h(e){const o={a:"a",blockquote:"blockquote",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.p,{children:["Once you have ",(0,r.jsx)(o.a,{href:"../install/",children:"installed"})," Flow, you will want to get a feel of how to use Flow at the most basic level. For most new Flow projects, you will follow this general pattern:"]}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.a,{href:"#toc-initialize-your-project",children:"Initialize your project"})," with ",(0,r.jsx)(o.code,{children:"flow init"}),"."]}),"\n",(0,r.jsxs)(o.li,{children:["Start the ",(0,r.jsx)(o.a,{href:"#toc-run-the-flow-background-process",children:"Flow background process"})," with ",(0,r.jsx)(o.code,{children:"flow"}),"."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.a,{href:"#toc-prepare-your-code-for-flow",children:"Determine"})," which files Flow will monitor with ",(0,r.jsx)(o.code,{children:"// @flow"}),"."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.a,{href:"#toc-write-flow-code",children:"Write Flow code"})," for your project."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.a,{href:"#toc-check-your-code",children:"Check your code"})," for type errors."]}),"\n"]}),"\n",(0,r.jsx)(o.h3,{id:"toc-initialize-your-project",children:"Initialize Your Project"}),"\n",(0,r.jsx)(o.p,{children:"Preparing a project for Flow requires only one command:"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-sh",children:"flow init\n"})}),"\n",(0,r.jsxs)(o.p,{children:["Run this command at the top level of your project to create one, empty file called ",(0,r.jsx)(o.a,{href:"../config/",children:(0,r.jsx)(o.code,{children:".flowconfig"})}),". At its most basic level, ",(0,r.jsx)(o.code,{children:".flowconfig"})," tells the Flow background process the root of where to begin checking Flow code for errors."]}),"\n",(0,r.jsx)(o.p,{children:"And that is it. Your project is now Flow-enabled."}),"\n",(0,r.jsxs)(o.blockquote,{children:["\n",(0,r.jsxs)(o.p,{children:["It is common to have an empty ",(0,r.jsx)(o.code,{children:".flowconfig"})," file for your project. However, you can ",(0,r.jsx)(o.a,{href:"../config/",children:"configure and customize Flow"})," in many ways through options available to be added to ",(0,r.jsx)(o.code,{children:".flowconfig"}),"."]}),"\n"]}),"\n",(0,r.jsx)(o.h3,{id:"toc-run-the-flow-background-process",children:"Run the Flow Background Process"}),"\n",(0,r.jsx)(o.p,{children:"The core benefit to Flow is its ability to quickly check your code for errors. Once you have enabled your project for Flow, you can start the process that allows Flow to check your code incrementally and with great speed."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-sh",children:"flow status\n"})}),"\n",(0,r.jsxs)(o.p,{children:["This command first starts a background process that will check all ",(0,r.jsx)(o.a,{href:"#toc-prepare-your-code-for-flow",children:"Flow files"})," for errors. The background process continues running, monitoring changes to your code and checking those changes incrementally for errors."]}),"\n",(0,r.jsxs)(o.blockquote,{children:["\n",(0,r.jsxs)(o.p,{children:["You can also type ",(0,r.jsx)(o.code,{children:"flow"})," to accomplish the same effect as ",(0,r.jsx)(o.code,{children:"status"})," is the default flag to the ",(0,r.jsx)(o.code,{children:"flow"})," binary."]}),"\n"]}),"\n",(0,r.jsxs)(o.blockquote,{children:["\n",(0,r.jsxs)(o.p,{children:["Only one background process will be running at any given time, so if you run ",(0,r.jsx)(o.code,{children:"flow status"})," multiple times, it will use the same process."]}),"\n"]}),"\n",(0,r.jsxs)(o.blockquote,{children:["\n",(0,r.jsxs)(o.p,{children:["To stop the background process, run ",(0,r.jsx)(o.code,{children:"flow stop"}),"."]}),"\n"]}),"\n",(0,r.jsx)(o.h3,{id:"toc-prepare-your-code-for-flow",children:"Prepare Your Code for Flow"}),"\n",(0,r.jsxs)(o.p,{children:["The Flow background process monitors all Flow files. However, how does it know which files are Flow files and, thus, should be checked? Placing the following ",(0,r.jsx)(o.strong,{children:"before any code"})," in a JavaScript file is the flag the process uses to answer that question."]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-flow",metastring:"[]",children:"// @flow\n"})}),"\n",(0,r.jsxs)(o.p,{children:["This flag is in the form of a normal JavaScript comment annotated with ",(0,r.jsx)(o.code,{children:"@flow"}),". The Flow background process gathers all the files with this flag and uses the type information available from all of these files to ensure consistency and error free programming."]}),"\n",(0,r.jsxs)(o.blockquote,{children:["\n",(0,r.jsxs)(o.p,{children:["You can also use the form ",(0,r.jsx)(o.code,{children:"/* @flow */"})," for the flag as well."]}),"\n"]}),"\n",(0,r.jsxs)(o.blockquote,{children:["\n",(0,r.jsxs)(o.p,{children:["For files in your project without this flag, the Flow background process skips and ignores the code (unless you call ",(0,r.jsx)(o.code,{children:"flow check --all"}),", which is beyond the scope of basic usage)."]}),"\n"]}),"\n",(0,r.jsx)(o.h3,{id:"toc-write-flow-code",children:"Write Flow Code"}),"\n",(0,r.jsxs)(o.p,{children:["Now that all the setup and initialization is complete, you are ready to write actual Flow code. For each file that you have flagged with ",(0,r.jsx)(o.code,{children:"// @flow"}),", you now have the full power of Flow and its type-checking available to you. Here is an example Flow file:"]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-flow",metastring:'[{"startLine":3,"startColumn":12,"endLine":3,"endColumn":12,"description":"Cannot return `x` because number [1] is incompatible with string [2]. [incompatible-type]"}]',children:'function foo(x: ?number): string {\n  if (x) {\n    return x;\n  }\n  return "default string";\n}\n'})}),"\n",(0,r.jsxs)(o.p,{children:["Notice the types added to the parameter of the function along with a return type at the end of the function. You might be able to tell from looking at this code that there is an error in the return type since the function can also return a ",(0,r.jsx)(o.code,{children:"number"}),". However, you do not need to visually inspect the code since the Flow background process will be able to catch this error for you when you ",(0,r.jsx)(o.a,{href:"#toc-check-your-code",children:"check your code"}),"."]}),"\n",(0,r.jsx)(o.h3,{id:"toc-check-your-code",children:"Check Your Code"}),"\n",(0,r.jsx)(o.p,{children:"The great thing about Flow is that you can get near real-time feedback on the state of your code. At any point that you want to check for errors, just run:"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-sh",children:"# equivalent to `flow status`\nflow\n"})}),"\n",(0,r.jsxs)(o.p,{children:["The first time this is run, the ",(0,r.jsx)(o.a,{href:"#toc-run-flow-background-process",children:"Flow background process"})," will be spawned and all of your Flow files will be checked. Then, as you continue to iterate on your project, the background process will continuously monitor your code such that when you run ",(0,r.jsx)(o.code,{children:"flow"})," again, the updated result will be near instantaneous."]}),"\n",(0,r.jsxs)(o.p,{children:["For the ",(0,r.jsx)(o.a,{href:"#toc-write-flow-code",children:"code above"}),", running ",(0,r.jsx)(o.code,{children:"flow"})," will yield:"]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-sh",children:"3:12-3:12: Cannot return `x` because number is incompatible with string. [incompatible-type]\n"})})]})}function d(e={}){const{wrapper:o}={...(0,l.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453(e,o,n){n.d(o,{R:()=>s,x:()=>c});var t=n(96540);const r={},l=t.createContext(r);function s(e){const o=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(l.Provider,{value:o},e.children)}}}]);